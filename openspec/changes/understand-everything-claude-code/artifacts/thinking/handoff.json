{
  "source": "thinking",
  "proposal_id": "understand-everything-claude-code",
  "proposal_title": "Understand Everything Claude Code Project",
  "summary": "通过 5 阶段渐进式学习（基础 → 核心概念 → 集成模式 → 实践使用 → 高级功能），遵循组件层次依赖顺序，可系统性地彻底理解 everything-claude-code 项目。",
  "summary_en": "Systematically understand everything-claude-code through 5-phase progressive learning (Foundation → Core Concepts → Integration → Practical Usage → Advanced), following component hierarchy dependencies.",
  "target_project": "/Users/wenliang_zeng/workspace/open_sources/ccg-workflows/git-repos/everything-claude-code",
  "confidence": {
    "overall": "high",
    "score": 8.0,
    "breakdown": {
      "evidence_sufficiency": 8,
      "reasoning_rigor": 8,
      "model_consensus": 9,
      "assumption_reliability": 7
    }
  },
  "constraints": {
    "hard": [
      "NO hooks field in plugin.json (causes duplicate detection in v2.1+)",
      "Minimum Claude Code CLI v2.1.0 required",
      "YAML frontmatter required for agents/skills/commands",
      "Agents limited to declared tools array",
      "Rules cannot be distributed via plugins - must copy manually",
      "${CLAUDE_PLUGIN_ROOT} required for hook script paths",
      "Node.js required for all hook scripts",
      "Exit codes: 0=continue, 1=block for hooks"
    ],
    "soft": [
      "Keep under 10 MCPs per project, under 80 tools total",
      "80% test coverage for TDD workflow",
      "Max 3 cycles for iterative retrieval",
      "Avoid last 20% of context window for complex tasks",
      "Instinct confidence 0.7+ for auto-approval"
    ]
  },
  "non_goals": [
    "Contributing to Claude Code core",
    "Modifying the everything-claude-code project",
    "Creating hands-on exercises or tutorials",
    "Analyzing external guide content (Shorthand/Longform)",
    "Deep diving into Windows-specific issues",
    "Comprehensive Go feature coverage"
  ],
  "learning_phases": [
    {
      "phase": 1,
      "name": "Foundation",
      "duration": "Day 1",
      "files": [
        "README.md",
        ".claude-plugin/plugin.json",
        ".claude-plugin/marketplace.json"
      ],
      "checkpoint": "Explain plugin.json fields"
    },
    {
      "phase": 2,
      "name": "Core Concepts",
      "duration": "Day 2-3",
      "files": [
        "agents/planner.md",
        "skills/tdd-workflow/SKILL.md",
        "commands/tdd.md",
        "hooks/hooks.json",
        "rules/security.md"
      ],
      "checkpoint": "Create simple agent and skill files"
    },
    {
      "phase": 3,
      "name": "Integration Patterns",
      "duration": "Day 4-5",
      "files": [
        "scripts/hooks/session-start.js",
        "scripts/hooks/session-end.js",
        "scripts/lib/utils.js",
        "scripts/lib/package-manager.js"
      ],
      "checkpoint": "Trace hook execution flow"
    },
    {
      "phase": 4,
      "name": "Practical Usage",
      "duration": "Day 6",
      "tasks": [
        "Install plugin via marketplace",
        "Verify slash commands",
        "Configure package manager",
        "Run test suite"
      ],
      "checkpoint": "Plugin installed, commands available, tests pass"
    },
    {
      "phase": 5,
      "name": "Advanced Features",
      "duration": "Week 2+",
      "files": [
        "skills/continuous-learning-v2/",
        "skills/iterative-retrieval/",
        "skills/eval-harness/",
        "mcp-configs/mcp-servers.json"
      ],
      "checkpoint": "Explain continuous-learning-v2 mechanism"
    }
  ],
  "success_criteria": [
    "Learning plan covers all 5 component types: rules, skills, agents, commands, hooks",
    "Learning plan follows component dependency order",
    "Each phase has clear objectives and specific files",
    "Critical pitfalls documented (especially no hooks in plugin.json)",
    "Prerequisites clearly stated",
    "Includes practical verification steps",
    "Confidence assessment provided"
  ],
  "acceptance_criteria": [
    "handoff.md contains 5-phase learning plan",
    "Each phase lists specific files to study",
    "Hard constraints section lists at least 5 critical constraints",
    "Success criteria are verifiable",
    "Assumptions documented with reliability assessment",
    "Limitations section exists with improvement directions",
    "Confidence score provided with breakdown",
    "handoff.json is valid JSON"
  ],
  "open_questions": [
    "How to access external Shorthand Guide? (Twitter URL)",
    "How does inter-agent delegation work without Task tool?",
    "What is the exact Claude Code version compatibility matrix?",
    "How do inherited instincts interact with personal instincts?"
  ],
  "risks": [
    {
      "level": "high",
      "description": "External guides not analyzed",
      "mitigation": "User reads external resources during learning"
    },
    {
      "level": "medium",
      "description": "Learning time estimates are rough",
      "mitigation": "Adjust pace based on individual background"
    },
    {
      "level": "medium",
      "description": "No hands-on exercises",
      "mitigation": "Practical usage in Phase 4 compensates"
    },
    {
      "level": "low",
      "description": "Windows-specific issues may surface",
      "mitigation": "Cross-platform scripts designed, troubleshoot as needed"
    }
  ],
  "paths": {
    "thinking_dir": "openspec/changes/understand-everything-claude-code/artifacts/thinking",
    "input": "openspec/changes/understand-everything-claude-code/artifacts/thinking/input.md",
    "synthesis": "openspec/changes/understand-everything-claude-code/artifacts/thinking/synthesis.md",
    "conclusion": "openspec/changes/understand-everything-claude-code/artifacts/thinking/conclusion.md",
    "handoff_md": "openspec/changes/understand-everything-claude-code/artifacts/thinking/handoff.md",
    "handoff_json": "openspec/changes/understand-everything-claude-code/artifacts/thinking/handoff.json"
  },
  "next_actions": [
    "Use learning plan directly to study everything-claude-code",
    "Proceed to /tpd:plan if detailed task decomposition needed",
    "Customize based on personal background"
  ]
}
