{
  "module_name": "agent-format",
  "existing_structures": [
    "Source format: YAML frontmatter with fields (name, description, tools, model, color) + Markdown body",
    "Source agents: investigator.md, recorder.md, scout.md, worker.md in git-repos/cc-plugin/agents/",
    "Target format: Trae IDE SOLO Coder form with fields (Name, Prompt, Callable by other agents, English identifier, When to invoke, Tools)",
    "Existing conversion: git-repos/cc-plugin/agents/solo-coder/ contains partial conversions",
    "Tool categories: Built-in tools (Read, Edit, Terminal, Preview, Web search) and MCP tools (exa, banana-image, auggie-mcp, gemini, codex)"
  ],
  "existing_conventions": [
    "Field mapping: name -> Name + English identifier, description -> When to invoke, markdown body -> Prompt, tools -> Tools (mapped)",
    "Tool mapping: Read/Glob/Grep -> Read, Write/Edit -> Edit, Bash -> Terminal, WebSearch/WebFetch -> Web search",
    "Character limits: Name max 20 chars, Prompt max 10000 chars, English identifier max 50 chars, When to invoke max 5000 chars",
    "Callable toggle decision based on agent purpose: INTERNAL agents disable callable feature",
    "Conversion output format: Markdown documentation with code blocks for each field value"
  ],
  "constraints_discovered": [
    "HC-1: Name field must be <= 20 characters. All source agent names (investigator: 12, recorder: 8, scout: 5, worker: 6) comply.",
    "HC-2: Prompt field must be <= 10000 characters. recorder.md body is longest (~3800 chars for truncated version, full version ~5500 chars with content formats).",
    "HC-3: English identifier must be <= 50 characters and use kebab-case format (e.g., project-analyzer).",
    "HC-4: When to invoke must be <= 5000 characters. Source description fields are short (~150-250 chars), existing conversion expands with Chinese usage scenarios.",
    "HC-5: AskUserQuestion tool has no SOLO equivalent - worker agent loses this capability in conversion.",
    "HC-6: Tool granularity loss: Glob/Grep capabilities merged into generic Read tool, losing specialized search semantics.",
    "SC-1: scout agent marked as INTERNAL ONLY - must disable 'callable by other agents' toggle.",
    "SC-2: recorder full prompt contains XML-style content format templates that may not render well in SOLO Coder text field."
  ],
  "open_questions": [
    "Q1: Should the full ContentFormat_* templates be included in recorder's Prompt field, or should they be condensed to reduce character count?",
    "Q2: Does SOLO Coder support XML-style tags (<ReportStructure>, <OutputFormat>) in prompts, or should they be converted to markdown sections?",
    "Q3: How should the model field (sonnet/opus/inherit) be handled? SOLO Coder model selection is separate from agent definition.",
    "Q4: Should MCP tools (auggie-mcp, gemini, codex) be enabled for converted agents if they were not in the source?",
    "Q5: How to handle the color field - is there any SOLO Coder equivalent for agent visual identification?"
  ],
  "dependencies": [
    "git-repos/cc-plugin/agents/*.md - source agent definitions requiring conversion",
    "git-repos/cc-plugin/agents/solo-coder/ - existing partial conversion output",
    "openspec/changes/agents-to-solo-coder/thinking/field-mapping.md - field mapping reference",
    "Trae IDE SOLO Coder Create Agent form - target platform UI constraints"
  ],
  "risks": [
    "R1: Prompt truncation risk - recorder.md with full content formats may exceed 10000 char limit if all templates included (MEDIUM)",
    "R2: Capability loss - AskUserQuestion not mappable means worker loses interactive query capability (LOW)",
    "R3: Semantic precision loss - Glob/Grep merged into Read reduces search specificity in agent behavior (LOW)",
    "R4: Format compatibility - XML-style instruction tags may not be properly interpreted by SOLO Coder (MEDIUM)",
    "R5: Description expansion inconsistency - manual expansion of 'When to invoke' may introduce style variations (LOW)"
  ],
  "success_criteria_hints": [
    "All 4 agents successfully converted with all mandatory fields populated",
    "No field exceeds character limits (Name <= 20, Prompt <= 10000, Identifier <= 50, When to invoke <= 5000)",
    "Tool mapping correctly applies: investigator (Read, Terminal, Web search), recorder (Read, Edit, Terminal), scout (Read, Edit, Terminal, Web search), worker (Read, Edit, Terminal, Web search)",
    "scout agent has 'callable by other agents' disabled; other 3 agents have it enabled",
    "When to invoke field includes both English description and Chinese usage scenarios",
    "Conversion documents follow consistent format structure as existing solo-coder/*.md files"
  ],
  "source_agents_analysis": {
    "investigator": {
      "name_length": 12,
      "tools": ["Read", "Glob", "Grep", "Bash", "WebSearch", "WebFetch"],
      "mapped_tools": ["Read", "Terminal", "Web search"],
      "callable": true,
      "prompt_char_estimate": 2100,
      "risks": []
    },
    "recorder": {
      "name_length": 8,
      "tools": ["Read", "Glob", "Grep", "Bash", "Write", "Edit"],
      "mapped_tools": ["Read", "Edit", "Terminal"],
      "callable": true,
      "prompt_char_estimate": 5500,
      "risks": [
        "XML-style templates may need reformatting",
        "ContentFormat blocks add significant length"
      ]
    },
    "scout": {
      "name_length": 5,
      "tools": [
        "Read",
        "Glob",
        "Grep",
        "Bash",
        "Write",
        "Edit",
        "WebSearch",
        "WebFetch"
      ],
      "mapped_tools": ["Read", "Edit", "Terminal", "Web search"],
      "callable": false,
      "prompt_char_estimate": 2800,
      "risks": ["INTERNAL ONLY status must be preserved"]
    },
    "worker": {
      "name_length": 6,
      "tools": [
        "Bash",
        "Read",
        "Write",
        "Edit",
        "Grep",
        "Glob",
        "WebSearch",
        "WebFetch",
        "AskUserQuestion"
      ],
      "mapped_tools": ["Read", "Edit", "Terminal", "Web search"],
      "callable": true,
      "prompt_char_estimate": 1200,
      "risks": ["AskUserQuestion capability lost"]
    }
  }
}
