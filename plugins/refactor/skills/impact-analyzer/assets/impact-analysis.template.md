# é‡æ„å½±å“åˆ†ææŠ¥å‘Š

## åˆ†ææ¦‚è§ˆ

| æŒ‡æ ‡         | å€¼                      |
| ------------ | ----------------------- |
| åˆ†ææ—¶é—´     | ${timestamp}            |
| é‡æ„å»ºè®®æ•°   | ${total_suggestions}    |
| å—å½±å“æ–‡ä»¶æ•° | ${affected_files_count} |
| æ€»å¼•ç”¨æ•°     | ${total_references}     |
| å¹³å‡é£é™©ç­‰çº§ | ${average_risk}         |

## é£é™©åˆ†å¸ƒ

| é£é™©ç­‰çº§    | æ•°é‡              | å æ¯”                 |
| ----------- | ----------------- | -------------------- |
| ğŸŸ¢ Low      | ${low_count}      | ${low_percent}%      |
| ğŸŸ¡ Medium   | ${medium_count}   | ${medium_percent}%   |
| ğŸ”¶ High     | ${high_count}     | ${high_percent}%     |
| ğŸ”´ Critical | ${critical_count} | ${critical_percent}% |

---

## è¯¦ç»†å½±å“åˆ†æ

### REF-001: ${refactoring_type} - ${target_symbol}

**é‡æ„ç›®æ ‡**: `${file_path}:${line}` â†’ `${target_symbol}`

**é£é™©ç­‰çº§**: ${risk_level}

**å¼•ç”¨è¿½è¸ª**:

| æ–‡ä»¶        | è¡Œå·        | å¼•ç”¨ç±»å‹    |
| ----------- | ----------- | ----------- |
| ${ref_file} | ${ref_line} | ${ref_type} |

**å—å½±å“æ–‡ä»¶**: ${affected_count} ä¸ª

**è°ƒç”¨é“¾**:

```
${caller}
â””â”€â”€ ${target_symbol} â† é‡æ„ç›®æ ‡
    â”œâ”€â”€ ${callee_1}
    â””â”€â”€ ${callee_2}
```

**æµ‹è¯•è¦†ç›–**:

- ${test_status}: `${test_file}`
- ${test_action}: ${test_suggestion}

**é£é™©è¯„ä¼°è¯¦æƒ…**:

| ç»´åº¦       | å€¼               | åŠ æƒ               |
| ---------- | ---------------- | ------------------ |
| å¼•ç”¨æ•°é‡   | ${ref_count}     | +${ref_weight}     |
| è°ƒç”¨é“¾æ·±åº¦ | ${call_depth}    | +${call_weight}    |
| æµ‹è¯•è¦†ç›–   | ${test_coverage} | ${test_weight}     |
| å…¬å…± API   | ${is_public_api} | +${api_weight}     |
| è·¨æ¨¡å—     | ${cross_module}  | +${module_weight}  |
| **æ€»åˆ†**   | -                | **${total_score}** |

**å»ºè®®**:

- ${recommendation_1}
- ${recommendation_2}

---

## æ‰§è¡Œå»ºè®®

### ğŸŸ¢ å¯è‡ªåŠ¨æ‰§è¡Œï¼ˆä½é£é™©ï¼‰

| ID    | é‡æ„ç±»å‹ | ç›®æ ‡      | å¼•ç”¨æ•°  |
| ----- | -------- | --------- | ------- |
| ${id} | ${type}  | ${target} | ${refs} |

### ğŸŸ¡ å»ºè®®äº¤äº’æ‰§è¡Œï¼ˆä¸­é£é™©ï¼‰

| ID    | é‡æ„ç±»å‹ | ç›®æ ‡      | å¼•ç”¨æ•°  |
| ----- | -------- | --------- | ------- |
| ${id} | ${type}  | ${target} | ${refs} |

### ğŸ”´ éœ€è¦ç¡®è®¤ï¼ˆé«˜/æé«˜é£é™©ï¼‰

| ID    | é‡æ„ç±»å‹ | ç›®æ ‡      | å¼•ç”¨æ•°  | é£é™©åŸå›   |
| ----- | -------- | --------- | ------- | --------- |
| ${id} | ${type}  | ${target} | ${refs} | ${reason} |

---

## æµ‹è¯•å½±å“æ‘˜è¦

| æµ‹è¯•æ–‡ä»¶     | å½±å“ç¨‹åº¦        | éœ€è¦æ“ä½œ  |
| ------------ | --------------- | --------- |
| ${test_file} | ${impact_level} | ${action} |

---

## æ£€æµ‹æ–¹æ³•éªŒè¯

- [x] LSP.findReferences è¿½è¸ªå¼•ç”¨
- [x] LSP.incomingCalls åˆ†æè°ƒç”¨é“¾
- [x] auggie-mcp åˆ†ææ¨¡å—ä¾èµ–
- [x] æµ‹è¯•è¦†ç›–åˆ†æ

---

åˆ†ææ—¶é—´: ${timestamp}
ä¸‹ä¸€æ­¥: ç¡®è®¤åè°ƒç”¨ refactor-executor æ‰§è¡Œé‡æ„
