{
  "timestamp": "${timestamp}",
  "run_dir": "${run_dir}",
  "legacy_mode": false,
  "summary": {
    "total_suggestions": 0,
    "by_type": {},
    "by_risk": {
      "low": 0,
      "medium": 0,
      "high": 0,
      "critical": 0
    }
  },
  "suggestions": [
    {
      "id": "REF-001",
      "type": "extract_method",
      "smell_id": "SMELL-001",
      "target": {
        "file": "src/services/example.ts",
        "symbol": "processData",
        "line_start": 45,
        "line_end": 120
      },
      "description": "将 75 行的 processData 方法拆分为 3 个子方法",
      "risk_level": "low",
      "steps": [
        "提取验证逻辑为 validateInput()",
        "提取转换逻辑为 transformData()",
        "提取持久化逻辑为 persistData()"
      ],
      "expected_outcome": {
        "lines_before": 75,
        "lines_after": 45,
        "methods_added": 3
      }
    }
  ],
  "migration_suggestions": [
    {
      "id": "MIG-001",
      "legacy_smell_id": "LS-001",
      "type": "component_migration",
      "source": {
        "file": "public/js/main.js",
        "pattern": "jQuery DOM manipulation"
      },
      "target": {
        "framework": "React",
        "pattern": "Functional Component"
      },
      "strategy": "incremental_component_migration",
      "complexity": "high",
      "estimated_effort": "2-3 days",
      "steps": [
        "创建 React wrapper 组件",
        "迁移 jQuery 逻辑到 useEffect",
        "替换 DOM 操作为 React state",
        "移除 jQuery 依赖"
      ]
    }
  ]
}
