# Analysis Checklist Reference

æœ¬æ–‡æ¡£åŒ…å«ç°æœ‰ä»£ç åˆ†æçš„ UX é—®é¢˜æ£€æµ‹è§„åˆ™å’Œè¾“å‡ºæ–‡æ¡£æ¨¡æ¿ã€‚

---

## 1. UX é—®é¢˜æ£€æµ‹è§„åˆ™

### 1.1 å¯è®¿é—®æ€§ (Accessibility) é—®é¢˜

| æ£€æµ‹é¡¹          | ä»£ç æ¨¡å¼                    | é—®é¢˜åˆ¤å®š              |
| --------------- | --------------------------- | --------------------- |
| ç¼ºå°‘ alt å±æ€§   | `<img` without `alt=`       | âŒ å›¾ç‰‡æ— æ›¿ä»£æ–‡æœ¬     |
| æŒ‰é’®æ— æ ‡ç­¾      | `<button>` with only icon   | âŒ å±å¹•é˜…è¯»å™¨æ— æ³•ç†è§£ |
| é¢œè‰²å¯¹æ¯”åº¦      | æå–è‰²å€¼ â†’ è®¡ç®—å¯¹æ¯”åº¦       | âŒ å¯¹æ¯”åº¦ < 4.5:1     |
| æ—  label çš„è¡¨å• | `<input>` without `<label>` | âŒ è¡¨å•ä¸å¯è®¿é—®       |
| éè¯­ä¹‰åŒ–æ ‡ç­¾    | `<div onClick>`             | âš ï¸ åº”ä½¿ç”¨ `<button>`  |

**æ£€æµ‹æ–¹æ³•**ï¼š

```typescript
// ä½¿ç”¨ Grep æœç´¢åæ¨¡å¼
Grep: <img(?![^>]*alt=)
Grep: <button[^>]*>\s*<(svg|i|icon)
Grep: <div[^>]*onClick
Grep: <input(?![^>]*id=)

// è¯»å–ä»£ç  â†’ æå–è‰²å€¼ â†’ è®¡ç®—å¯¹æ¯”åº¦
å¯¹äºæ¯ä¸ª (æ–‡æœ¬è‰², èƒŒæ™¯è‰²) ç»„åˆ:
  contrast_ratio = calculate_contrast(text_color, bg_color)
  if contrast_ratio < 4.5:
    è®°å½•é—®é¢˜
```

---

### 1.2 å“åº”å¼è®¾è®¡é—®é¢˜

| æ£€æµ‹é¡¹   | ä»£ç æ¨¡å¼             | é—®é¢˜åˆ¤å®š          |
| -------- | -------------------- | ----------------- |
| å›ºå®šå®½åº¦ | `width: 1200px`      | âš ï¸ ç§»åŠ¨ç«¯ä¼šæº¢å‡º   |
| æ— æ–­ç‚¹   | æ—  `@media` æˆ– `md:` | âš ï¸ æœªè€ƒè™‘ä¸åŒå±å¹• |
| æ¨ªå‘æ»šåŠ¨ | `overflow-x: scroll` | âš ï¸ å¯èƒ½ä½“éªŒä¸ä½³   |
| å°å­—å·   | `font-size: 10px`    | âŒ ç§»åŠ¨ç«¯éš¾ä»¥é˜…è¯» |

**æ£€æµ‹æ–¹æ³•**ï¼š

```typescript
Grep: width:\s*\d+px
Grep: @media|sm:|md:|lg:|xl:
Grep: overflow-x:\s*scroll
Grep: text-(xs|10|11|12)(?!-|px|rem)
```

---

### 1.3 æ€§èƒ½é—®é¢˜

| æ£€æµ‹é¡¹      | ä»£ç æ¨¡å¼                | é—®é¢˜åˆ¤å®š       |
| ----------- | ----------------------- | -------------- |
| å¤§å›¾ç‰‡      | `<img src="large.jpg">` | âš ï¸ æœªå‹ç¼©/ä¼˜åŒ– |
| å†…è” Base64 | `data:image/png;base64` | âš ï¸ å¢å¤§ bundle |
| æœªä¼˜åŒ–åˆ—è¡¨  | é•¿åˆ—è¡¨æ— è™šæ‹ŸåŒ–          | âš ï¸ æ€§èƒ½é—®é¢˜    |
| è¿‡åº¦æ¸²æŸ“    | ç¼ºå°‘ memo/useMemo       | âš ï¸ å¯ä¼˜åŒ–      |

**æ£€æµ‹æ–¹æ³•**ï¼š

```typescript
Grep: data:image/
Grep: \.map\(\(
ç»Ÿè®¡: å¦‚æœåˆ—è¡¨æ¸²æŸ“ > 100 é¡¹ ä¸”æ— è™šæ‹ŸåŒ– â†’ æ ‡è®°
```

---

### 1.4 ä¸€è‡´æ€§é—®é¢˜

| æ£€æµ‹é¡¹       | ä»£ç æ¨¡å¼                  | é—®é¢˜åˆ¤å®š          |
| ------------ | ------------------------- | ----------------- |
| é­”æ³•æ•°å­—     | `margin: 17px`            | âš ï¸ ä¸ç¬¦åˆè®¾è®¡ç³»ç»Ÿ |
| ä¸ä¸€è‡´é—´è·   | `gap-3`, `gap-5`, `gap-7` | âš ï¸ é—´è·ä¸ç»Ÿä¸€     |
| æ··ç”¨æ ·å¼æ–¹æ¡ˆ | Tailwind + inline styles  | âš ï¸ åº”ç»Ÿä¸€æ–¹æ¡ˆ     |

---

### 1.5 é—®é¢˜æ•°æ®ç»“æ„

```json
{
  "accessibility_issues": [
    {
      "severity": "high",
      "type": "missing_alt",
      "location": "src/components/Dashboard.tsx:42",
      "description": "å›¾ç‰‡ç¼ºå°‘ alt å±æ€§",
      "fix_suggestion": "æ·»åŠ  alt=\"Dashboard overview chart\""
    }
  ],
  "responsive_issues": [
    {
      "severity": "medium",
      "type": "fixed_width",
      "location": "src/components/Header.tsx:15",
      "description": "ä½¿ç”¨å›ºå®šå®½åº¦ 1200px",
      "fix_suggestion": "æ”¹ä¸º max-width: 1200px æˆ–ä½¿ç”¨å“åº”å¼å•ä½"
    }
  ],
  "performance_issues": [],
  "consistency_issues": [
    {
      "severity": "low",
      "type": "magic_number",
      "location": "src/components/Card.tsx:28",
      "description": "ä½¿ç”¨é­”æ³•æ•°å­— margin: 17px",
      "fix_suggestion": "ä½¿ç”¨è®¾è®¡ token: m-4 (16px)"
    }
  ]
}
```

---

## 2. è¾“å‡ºæ–‡æ¡£æ¨¡æ¿

`${run_dir}/code-analysis.md` ä½¿ç”¨ä»¥ä¸‹ç»“æ„ï¼š

```markdown
---
analyzed_at: { ISO 8601 æ—¶é—´æˆ³ }
analyzer_version: "1.0"
target_files: [{ æ–‡ä»¶è·¯å¾„åˆ—è¡¨ }]
---

# ç°æœ‰ä»£ç åˆ†ææŠ¥å‘Š

## åˆ†ææ¦‚è§ˆ

**åˆ†æèŒƒå›´**: {æ–‡ä»¶æ•°é‡} ä¸ªæ–‡ä»¶ï¼Œ{ä»£ç è¡Œæ•°} è¡Œä»£ç 
**ä¸»ç»„ä»¶**: {ä¸»è¦ç»„ä»¶åç§°}
**å½±å“èŒƒå›´**: {å±€éƒ¨ / å…¨å±€}

## å½“å‰è®¾è®¡ç³»ç»Ÿ

### æ ·å¼æŠ€æœ¯

- **æ–¹æ¡ˆ**: {Tailwind CSS / CSS Modules / Styled Components}
- **ç‰ˆæœ¬**: {å¦‚ Tailwind v3.4}
- **é…ç½®æ–‡ä»¶**: {tailwind.config.js}

### é…è‰²æ–¹æ¡ˆ

- **ä¸»è‰²è°ƒ**: {#3B82F6} (ä½¿ç”¨ 42 æ¬¡)
- **è¾…åŠ©è‰²**: {#8B5CF6} (ä½¿ç”¨ 18 æ¬¡)
- **èƒŒæ™¯è‰²**: {#FFFFFF}
- **æ–‡æœ¬è‰²**: {#1F2937}

**è‰²æ¿å›¾**ï¼š

\`\`\`
â–ˆâ–ˆâ–ˆâ–ˆ Primary #3B82F6 (42 æ¬¡)
â–ˆâ–ˆâ–ˆâ–ˆ Secondary #8B5CF6 (18 æ¬¡)
â–ˆâ–ˆâ–ˆâ–ˆ Text #1F2937 (156 æ¬¡)
\`\`\`

### å­—ä½“ç³»ç»Ÿ

- **ä¸»å­—ä½“**: {Inter, sans-serif}
- **æ ‡é¢˜å­—ä½“**: {Inter Bold}
- **ç­‰å®½å­—ä½“**: {Consolas, monospace}
- **å­—å·é˜¶æ¢¯**: 12px, 14px, 16px, 18px, 24px, 30px

## UX é—®é¢˜æ¸…å•

### ğŸ”´ é«˜ä¼˜å…ˆçº§é—®é¢˜ ({æ•°é‡})

{åˆ—å‡ºæ‰€æœ‰é«˜ä¼˜å…ˆçº§é—®é¢˜}

1. **[å¯è®¿é—®æ€§]** å›¾ç‰‡ç¼ºå°‘ alt å±æ€§
   - ä½ç½®: `src/components/Dashboard.tsx:42`
   - ä¿®å¤: æ·»åŠ  `alt="Dashboard overview chart"`

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§é—®é¢˜ ({æ•°é‡})

{åˆ—å‡ºæ‰€æœ‰ä¸­ä¼˜å…ˆçº§é—®é¢˜}

### ğŸŸ¢ ä½ä¼˜å…ˆçº§é—®é¢˜ ({æ•°é‡})

{åˆ—å‡ºæ‰€æœ‰ä½ä¼˜å…ˆçº§é—®é¢˜}

## æ”¹è¿›å»ºè®®

### 1. å¯è®¿é—®æ€§æ”¹è¿›

- [ ] ä¸ºæ‰€æœ‰å›¾ç‰‡æ·»åŠ  alt å±æ€§
- [ ] ä¸ºäº¤äº’å…ƒç´ æ·»åŠ  aria-label
- [ ] ä¿®å¤é¢œè‰²å¯¹æ¯”åº¦ä¸è¶³çš„é—®é¢˜

### 2. å“åº”å¼æ”¹è¿›

- [ ] æ·»åŠ ç§»åŠ¨ç«¯æ–­ç‚¹æ ·å¼
- [ ] å°†å›ºå®šå®½åº¦æ”¹ä¸ºå“åº”å¼å•ä½
- [ ] ä¼˜åŒ–å°å±å¹•ä¸‹çš„å¸ƒå±€

### 3. æ€§èƒ½ä¼˜åŒ–

- [ ] å‹ç¼©å›¾ç‰‡èµ„æº
- [ ] å¯¹é•¿åˆ—è¡¨å®ç°è™šæ‹ŸåŒ–
- [ ] æ·»åŠ ä»£ç åˆ†å‰²

### 4. ä¸€è‡´æ€§æå‡

- [ ] ç»Ÿä¸€é—´è·ç³»ç»Ÿï¼ˆä½¿ç”¨ 4px åŸºæ•°ï¼‰
- [ ] ç§»é™¤é­”æ³•æ•°å­—ï¼Œä½¿ç”¨è®¾è®¡ token
- [ ] ç»Ÿä¸€æ ·å¼æ–¹æ¡ˆï¼ˆä»…ä½¿ç”¨ Tailwindï¼‰

## ç»„ä»¶ç»“æ„

{å¦‚æœåˆ†æäº†å¤šä¸ªç»„ä»¶ï¼Œå±•ç¤ºç»„ä»¶æ ‘}

\`\`\`
Dashboard (å…¨å±€ç»„ä»¶)
â”œâ”€â”€ Header
â”‚   â”œâ”€â”€ Logo
â”‚   â””â”€â”€ UserMenu
â”œâ”€â”€ Sidebar
â”‚   â””â”€â”€ Navigation
â””â”€â”€ MainContent
    â”œâ”€â”€ Chart (ä½¿ç”¨ recharts)
    â””â”€â”€ Table
\`\`\`

## ä¾èµ–åˆ†æ

**æ ¸å¿ƒä¾èµ–**:

- react: ^18.2.0
- recharts: ^2.5.0
- date-fns: ^2.29.0

**æ ·å¼ä¾èµ–**:

- tailwindcss: ^3.4.0

## å½±å“èŒƒå›´è¯„ä¼°

**ä½¿ç”¨æ¬¡æ•°**: {3} å¤„
**ä½¿ç”¨ä½ç½®**:

1. src/pages/dashboard/index.tsx
2. src/layouts/MainLayout.tsx
3. src/app/App.tsx

**ä¿®æ”¹é£é™©**: {ä½ / ä¸­ / é«˜}
```

---

## 3. ä½¿ç”¨ç¤ºä¾‹

**åœºæ™¯ 1: åˆ†æå•ä¸ªç»„ä»¶**

```
ç”¨æˆ·è¾“å…¥: "åˆ†æ src/pages/Login.tsx çš„ä»£ç "

æ‰§è¡Œæµç¨‹:
  1. Read: src/pages/Login.tsx
  2. LSP documentSymbol: è·å–ç»„ä»¶ç»“æ„
  3. LSP goToDefinition: è·Ÿè¸ªæ ·å¼å¯¼å…¥
  4. Grep: æœç´¢æ ·å¼æ¨¡å¼å’Œ UX é—®é¢˜
  5. ç”ŸæˆæŠ¥å‘Š: âœ… å‘ç° 5 ä¸ªé—®é¢˜
```

**åœºæ™¯ 2: åˆ†ææ•´ä¸ªç›®å½•**

```
ç”¨æˆ·è¾“å…¥: "åˆ†æ src/components/ ç›®å½•"

æ‰§è¡Œæµç¨‹:
  1. Glob: "src/components/**/*.{tsx,jsx}"
  2. å¯¹æ¯ä¸ªæ–‡ä»¶æ‰§è¡Œåˆ†æ
  3. èšåˆç»“æœï¼Œç”Ÿæˆæ±‡æ€»æŠ¥å‘Š
```
