---
name: article-analyzer
description: |
  【触发条件】写作工作流第一步：分析主题，识别关键点，评估难度。
  【输入】${RUN_DIR}/input.md（主题描述）
  【输出】${RUN_DIR}/analysis.md（分析报告）
  【不触发】已有分析报告时，或纯粹的大纲/写作任务。
allowed-tools: ["Read", "Write"]
---

# Article Analyzer - 主题分析技能

## 职责

分析文章主题，识别核心概念、关键问题、目标受众和写作难点，为后续大纲生成和写作提供基础。

## 输入输出契约

### 输入

- **必需**: `${RUN_DIR}/input.md` - 包含文章主题描述
- **格式**: Markdown 文本，可以是简短主题或详细需求

### 输出

- **路径**: `${RUN_DIR}/analysis.md`
- **格式**: 结构化 Markdown 文档，包含 YAML frontmatter

### 产物 Frontmatter 模板

```yaml
---
step: article-analyzer
inputs: ["input.md"]
created_at: 2026-01-14T10:30:00Z
topic: "文章主题"
difficulty: "low|medium|high"
estimated_words: 1500
---
```

## 分析维度

### 1. 主题识别

- 核心概念提取
- 关键问题定义
- 主题范围界定

### 2. 受众分析

- 目标读者画像
- 知识背景假设
- 预期阅读场景

### 3. 内容规划

- 核心论点
- 支撑论据
- 可能的案例/数据

### 4. 难度评估

- 概念复杂度：low / medium / high
- 研究需求：minimal / moderate / extensive
- 预计字数：500-5000 字

### 5. 风格建议

- 叙述风格：学术 / 科普 / 故事化 / 实用指南
- 深度选择：概览 / 中度 / 深入
- 特殊要求：图表 / 代码示例 / 引用文献

## 执行流程

1. **读取输入**

   ```
   Read ${RUN_DIR}/input.md
   ```

2. **执行分析**
   - 提取主题关键词
   - 识别核心问题
   - 评估复杂度
   - 规划内容结构

3. **生成报告**

   ```markdown
   ---
   step: article-analyzer
   inputs: ["input.md"]
   created_at: <timestamp>
   topic: "<主题>"
   difficulty: "<难度>"
   estimated_words: <预计字数>
   ---

   # 文章分析报告

   ## 主题概览

   <主题描述>

   ## 核心问题

   1. <问题 1>
   2. <问题 2>
      ...

   ## 目标受众

   <受众描述>

   ## 内容规划

   ### 核心论点

   <论点>

   ### 支撑论据

   - <论据 1>
   - <论据 2>

   ### 建议案例

   - <案例 1>
   - <案例 2>

   ## 写作建议

   - **风格**: <风格>
   - **深度**: <深度>
   - **预计字数**: <字数>
   - **特殊要求**: <要求>

   ## 潜在难点

   1. <难点 1>
   2. <难点 2>
   ```

4. **写入产物**
   ```
   Write ${RUN_DIR}/analysis.md <content>
   ```

## 质量标准

### 必须满足

- ✅ 产物文件包含有效的 YAML frontmatter
- ✅ 主题识别准确，核心问题明确
- ✅ 难度评估合理（参考复杂度和长度）
- ✅ 内容规划可操作（可直接用于生成大纲）

### 应该满足

- 受众分析具体（非泛泛而谈）
- 写作建议实用（能指导后续步骤）
- 潜在难点有预警价值

## 失败处理

### 输入不完整

- **症状**: `input.md` 不存在或为空
- **处理**: 返回错误信息，要求提供主题

### 主题过于宽泛

- **症状**: 主题范围难以界定
- **处理**: 在报告中标注"主题需要聚焦"，建议具体方向

### 主题过于狭窄

- **症状**: 内容不足 500 字
- **处理**: 在报告中建议扩展或合并其他主题

## 示例

### 输入 (input.md)

```markdown
AI 在医疗诊断中的应用前景
```

### 输出 (analysis.md)

```markdown
---
step: article-analyzer
inputs: ["input.md"]
created_at: 2026-01-14T10:30:00Z
topic: "AI 在医疗诊断中的应用前景"
difficulty: "medium"
estimated_words: 2000
---

# 文章分析报告

## 主题概览

探讨人工智能技术在医疗诊断领域的当前应用、技术挑战和未来发展方向。

## 核心问题

1. AI 医疗诊断的主要技术手段有哪些？
2. 当前 AI 诊断的准确率如何？与人类医生相比优势在哪？
3. 实际应用中面临哪些技术和伦理挑战？
4. 未来 3-5 年的发展趋势如何？

## 目标受众

- 医疗行业从业者（医生、医院管理者）
- 技术人员（AI 工程师、产品经理）
- 对医疗 AI 感兴趣的普通读者
- 假设读者具备基础的 AI 概念知识

## 内容规划

### 核心论点

AI 正在从辅助工具转向诊断决策的重要参与者，但仍需要与人类医生协作。

### 支撑论据

- 影像识别：肺结节、眼底病变检测准确率超 90%
- 病理分析：辅助癌症早筛，缩短诊断时间
- 多模态融合：结合影像、病历、基因数据

### 建议案例

- 谷歌 DeepMind 眼病筛查系统（Moorfields Eye Hospital 合作）
- IBM Watson Health 肿瘤诊断
- 国内平安智慧医疗的实践

## 写作建议

- **风格**: 科普风格，兼顾专业性和可读性
- **深度**: 中度（技术原理简化，重点在应用和影响）
- **预计字数**: 2000 字
- **特殊要求**:
  - 至少 2 个真实案例
  - 1-2 张对比图（AI vs 传统诊断）
  - 引用 3-5 篇权威文献或报告

## 潜在难点

1. **技术细节平衡**: 既要说清原理，又不能过于专业
2. **数据准确性**: 需要引用权威来源，避免误导
3. **伦理争议**: 医疗责任归属、数据隐私等敏感话题需谨慎表述
```

## 注意事项

1. **只传文件路径**：对话中不要贴出完整的 input.md 内容，只传递路径
2. **按需读取**：优先读取必要部分，避免超长文本
3. **状态无关**：该 Skill 不依赖其他 Skill 的输出，可独立调用
4. **幂等性**：相同输入应产生一致的分析结果（除 timestamp）

## 参考资源

- `references/analysis-template.md` - 分析报告模板
- `references/difficulty-criteria.md` - 难度评估标准
- `references/style-guide.md` - 写作风格指南
