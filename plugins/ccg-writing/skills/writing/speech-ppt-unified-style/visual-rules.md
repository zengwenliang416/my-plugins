# 视觉与 banana-image 协同规则

## 概述

本文件定义了生成 `image_prompt` 的统一规范，确保整套 PPT 的视觉风格一致。

---

## 整体风格定义

### 主风格

```
简洁扁平插画 / 轻科技商务风
```

### 色彩方案

| 类型   | 色值/描述                     |
| ------ | ----------------------------- |
| 主色调 | 蓝紫色系（#6366F1 ~ #8B5CF6） |
| 辅助色 | 浅灰、白色背景                |
| 点缀色 | 少量渐变效果                  |
| 禁止   | 过于鲜艳的红黄绿              |

### 线条风格

- 线条干净简洁
- 无过度装饰
- 适合投影展示（高对比度）

---

## image_prompt 必填要素

每个 `image_prompt` 必须包含以下 5 个要素：

### 1. 场景

| 场景类型     | 适用页面       |
| ------------ | -------------- |
| 会议室       | 汇报、路演     |
| 比赛路演现场 | 封面、演示策略 |
| 办公室       | 痛点故事       |
| 教室/培训室  | 教学场景       |
| 数据中心     | 技术方案       |

### 2. 人物

| 角色          | 描述关键词               |
| ------------- | ------------------------ |
| 评委          | 西装、严肃、坐在评委席   |
| 参赛者/演讲者 | 商务休闲、站在台前、自信 |
| 程序员        | 休闲装、坐在电脑前       |
| 财务人员      | 职业装、被文件包围       |
| 学生          | 校服或休闲装、专注听讲   |
| 讲师          | 商务装、手持激光笔       |

### 3. 情绪

| 情绪       | 适用场景           |
| ---------- | ------------------ |
| 紧张、焦虑 | 痛点故事（问题页） |
| 困惑、疑惑 | 问题揭示页         |
| 专注、投入 | 解决方案页         |
| 轻松、自信 | 成果展示页         |
| 有感染力   | 总结行动页         |
| 疲惫       | 效率低下场景       |

### 4. 构图

| 构图   | 说明                       |
| ------ | -------------------------- |
| 近景   | 突出人物表情，适合情绪传达 |
| 中景   | 人物+环境，适合场景说明    |
| 远景   | 全局视角，适合概览页       |
| 主视角 | 从观众角度看向主体         |

### 5. 风格声明

**必须在每个 prompt 末尾添加**：

```
主色调蓝紫和浅灰，线条简洁，科技商务风
```

或简化版：

```
扁平插画风格，蓝紫色系，简洁线条
```

---

## image_prompt 模板

### 人物场景模板

```
[风格]风格，[角色描述]在[场景]，[动作/姿态]，
[表情/情绪]，[环境细节]，
主色调蓝紫和浅灰，线条简洁，科技商务风
```

### 示例

```yaml
# 痛点故事页
image_prompt: >
  扁平插画风格，一位疲惫的财务人员坐在办公桌前，
  被成堆发票和文件包围，桌上有计算器和电脑屏幕，
  表情焦虑和疲惫，背景是略显压迫感的办公室环境，
  主色调蓝紫和浅灰，线条简洁，科技商务风

# 封面页
image_prompt: >
  扁平插画风格，一位自信的演讲者站在路演舞台上，
  背后是大屏幕显示项目标题，台下有评委席，
  演讲者姿态自信有感染力，灯光聚焦在演讲者身上，
  主色调蓝紫和浅灰，线条简洁，科技商务风

# 解决方案页
image_prompt: >
  扁平插画风格，程序员坐在电脑前与 AI 助手对话，
  屏幕上显示代码和对话气泡，表情专注而轻松，
  办公环境整洁现代，有科技感的氛围，
  主色调蓝紫和浅灰，线条简洁，科技商务风
```

---

## 结构图/流程图页面

当页面更适合用图表而不是人物插画时：

### 流程图

```yaml
image_prompt: >
  简洁的流程图，箭头连接三个步骤，
  每个步骤用圆角矩形框表示，
  从左到右水平排列，
  主色调蓝紫渐变，浅灰背景，扁平设计风格
```

### 对比图

```yaml
image_prompt: >
  左右对比结构图，左侧标注"错误做法"用浅红背景，
  右侧标注"正确做法"用浅绿背景，
  中间用分隔线区分，
  整体扁平设计，主色调蓝紫，线条简洁
```

### 表格/数据图

```yaml
image_prompt: >
  简洁的前后对比表格，两列分别标注"改进前"和"改进后"，
  数据用大号字体突出显示，
  使用条形图辅助展示数值变化，
  主色调蓝紫和浅灰，扁平商务风格
```

### 架构图

```yaml
image_prompt: >
  系统架构图，中心是核心模块，
  周围环绕相关组件，用连接线表示数据流向，
  模块用圆角矩形，线条带箭头，
  主色调蓝紫渐变，浅灰背景，科技感设计
```

---

## 按 slide_type 的视觉建议

| slide_type | 推荐视觉类型            | 情绪基调   |
| ---------- | ----------------------- | ---------- |
| cover      | 人物场景（演讲者/舞台） | 自信、专业 |
| story      | 人物场景（痛点角色）    | 焦虑、疲惫 |
| overview   | 结构图/流程图           | 清晰、概览 |
| pitfall    | 人物场景或对比图        | 困惑、警示 |
| solution   | 人物场景或流程图        | 专注、解决 |
| comparison | 左右对比图              | 对比明显   |
| structure  | 流程图/架构图           | 逻辑清晰   |
| demo       | 屏幕截图风格插画        | 真实、可信 |
| summary    | 清单/图标列表           | 简洁、收尾 |
| cta        | 人物场景（鼓励姿态）    | 激励、行动 |

---

## banana-image 调用参数建议

```python
mcp__banana-image__generate_image(
  prompt="<image_prompt>",
  model_tier="pro",          # 高质量输出
  resolution="2k",           # 适合 PPT 展示
  aspect_ratio="16:9",       # 标准 PPT 比例
  negative_prompt="真实照片风格, 过于复杂的背景, 文字"
)
```

### 参数说明

| 参数         | 推荐值 | 说明         |
| ------------ | ------ | ------------ |
| model_tier   | "pro"  | 质量优先     |
| resolution   | "2k"   | PPT 展示足够 |
| aspect_ratio | "16:9" | 标准宽屏比例 |

---

## 常见问题与解决

### 问题：生成的图片风格不统一

**解决**：确保每个 prompt 末尾都有风格声明。

### 问题：人物表情不明显

**解决**：使用「近景」构图，明确描述表情词。

### 问题：背景过于复杂

**解决**：在 negative_prompt 中添加「复杂背景」。

### 问题：颜色偏离蓝紫色系

**解决**：在 prompt 中强调「主色调蓝紫」，避免提及其他颜色。

---

## 风格一致性检查清单

生成 image_prompt 前，确认：

- [ ] 是否包含场景描述？
- [ ] 是否包含人物/元素描述？
- [ ] 是否包含情绪/氛围？
- [ ] 是否包含构图说明？
- [ ] 是否以风格声明结尾？
- [ ] 是否与该页面的 slide_type 匹配？
