# 复杂度评分规则

## 四维度评分

### 1. 结构复杂度 (权重 20%)

| 评分 | 条件                   |
| ---- | ---------------------- |
| 1-2  | 单句问题，无嵌套       |
| 3-4  | 2-3 个子问题，简单逻辑 |
| 5-6  | 多个子问题，有依赖关系 |
| 7-8  | 复杂嵌套，多层逻辑     |
| 9-10 | 极复杂结构，需要分解   |

### 2. 领域深度 (权重 30%)

| 评分 | 条件                 |
| ---- | -------------------- |
| 1-2  | 通用知识，无专业要求 |
| 3-4  | 单一领域，基础知识   |
| 5-6  | 单一领域，深度知识   |
| 7-8  | 跨领域，需要整合     |
| 9-10 | 多领域专家级知识     |

### 3. 推理复杂度 (权重 30%)

| 评分 | 条件               |
| ---- | ------------------ |
| 1-2  | 直接回答，无需推理 |
| 3-4  | 1-2 步推理         |
| 5-6  | 3-5 步推理，需验证 |
| 7-8  | 多步骤，需假设验证 |
| 9-10 | 复杂推理链，多分支 |

### 4. 歧义程度 (权重 20%)

| 评分 | 条件               |
| ---- | ------------------ |
| 1-2  | 无歧义，理解唯一   |
| 3-4  | 轻微歧义，可推断   |
| 5-6  | 存在 2-3 种理解    |
| 7-8  | 多种理解，需澄清   |
| 9-10 | 高度模糊，必须询问 |

## 综合评分计算

```
综合分 = 结构 × 0.2 + 领域 × 0.3 + 推理 × 0.3 + 歧义 × 0.2
```

## 深度路由

| 综合分范围 | 建议深度 | 说明             |
| ---------- | -------- | ---------------- |
| 1.0 - 3.5  | light    | 快速响应，单模型 |
| 3.6 - 6.5  | deep     | 多模型并行       |
| 6.6 - 10.0 | ultra    | 最大深度分析     |
