# 提示工程技巧大全

## 基础技巧

### 1. 角色扮演 (Role Prompting)

```
你是一位有 20 年经验的 Python 后端架构师，专注于高并发系统设计。
请从架构师角度审查这段代码...
```

### 2. 上下文设定 (Context Setting)

```
背景：我们正在开发一个电商平台，日活用户约 100 万，
峰值 QPS 约 5000，使用 PostgreSQL 数据库。

问题：如何设计订单系统的数据模型？
```

### 3. 约束限定 (Constraint Specification)

```
请用不超过 3 句话解释什么是微服务架构。
要求：
- 使用通俗易懂的语言
- 包含一个具体例子
- 适合技术新手理解
```

## 中级技巧

### 4. 分步引导 (Step-by-Step Guidance)

```
请按以下步骤分析这个系统设计问题：

步骤 1：识别核心功能需求
步骤 2：分析非功能性需求（性能、可用性等）
步骤 3：设计高层架构
步骤 4：详细设计关键组件
步骤 5：识别潜在风险和解决方案

问题：设计一个实时聊天系统...
```

### 5. 示例驱动 (Few-Shot Learning)

```
将代码注释翻译成英文，保持技术术语准确：

示例 1：
输入：# 计算用户的平均消费金额
输出：# Calculate the user's average spending amount

示例 2：
输入：# 检查库存是否充足
输出：# Check if the inventory is sufficient

现在请翻译：
输入：# 验证用户权限并记录操作日志
输出：
```

### 6. 思维链 (Chain of Thought)

```
请一步步思考这个算法问题：

问题：给定一个整数数组，找出所有和为目标值的两个数的组合。

思考过程：
1. 首先，我需要理解问题的输入和输出...
2. 然后，考虑可能的解决方案...
3. 接着，分析每种方案的时间复杂度...
4. 最后，选择最优方案并实现...
```

## 高级技巧

### 7. 自我一致性 (Self-Consistency)

```
请用三种不同的方法解决这个问题，然后比较结果确定最终答案：

方法 1：暴力枚举
方法 2：动态规划
方法 3：贪心算法

最终答案应该基于多数方法得出的一致结论。
```

### 8. Tree of Thoughts

```
对于这个问题，请展开思维树：

问题：如何提高网站性能？

思维树：
├── 前端优化
│   ├── 代码分割
│   ├── 图片优化
│   └── 缓存策略
├── 后端优化
│   ├── 数据库优化
│   ├── 缓存层
│   └── 异步处理
└── 基础设施
    ├── CDN
    ├── 负载均衡
    └── 服务器配置

请深入分析每个分支的具体实施方案...
```

### 9. ReAct (Reasoning + Acting)

```
使用以下格式解决问题：

Thought: 我需要先了解当前系统的瓶颈
Action: 分析系统监控数据
Observation: CPU 使用率正常，但数据库查询时间较长

Thought: 数据库可能是瓶颈，需要进一步分析
Action: 检查慢查询日志
Observation: 发现多个全表扫描查询

Thought: 需要优化这些查询
Action: 添加合适的索引
Final Answer: 通过添加索引优化了 3 个慢查询，响应时间降低 70%
```

### 10. 递归优化 (Recursive Refinement)

```
第一轮：请写一个用户注册函数

（获得初始版本后）

第二轮：请优化上面的函数，添加：
- 输入验证
- 密码加密
- 错误处理

（获得优化版本后）

第三轮：请进一步改进，添加：
- 单元测试
- 日志记录
- 性能优化
```

## 格式控制技巧

### 11. 输出格式指定

```
请以 JSON 格式返回分析结果：

{
  "summary": "一句话总结",
  "issues": [
    {"severity": "high/medium/low", "description": "问题描述"}
  ],
  "recommendations": ["建议1", "建议2"]
}
```

### 12. 表格输出

```
请用表格格式比较这三种方案：

| 方案 | 优点 | 缺点 | 适用场景 | 复杂度 |
|------|------|------|----------|--------|
| A    |      |      |          |        |
| B    |      |      |          |        |
| C    |      |      |          |        |
```

### 13. Markdown 结构

```
请按以下 Markdown 结构输出：

# 标题

## 概述
[简要说明]

## 详细分析
### 子主题 1
### 子主题 2

## 结论

## 参考资料
```

## 元提示技巧

### 14. 提示优化请求

```
请帮我优化以下提示词，使其更清晰、更具体：

原始提示：帮我写代码

目标：生成一个更好的提示词版本，能够获得更精确的代码输出
```

### 15. 反向提示工程

```
这是一段优秀的代码输出，请推测生成它的最佳提示词是什么：

[代码示例]

请给出可能的提示词，并解释为什么这个提示词能产生这样的输出。
```
